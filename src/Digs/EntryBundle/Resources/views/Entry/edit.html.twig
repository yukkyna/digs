{% extends "DigsCoreBundle::base.html.twig" %}

{% block javascripts %}
<script type="text/javascript" src="{{ asset('bundles/digscore/js/tinymce/tinymce.min.js') }}"></script>
<script type="text/javascript" src="{{ asset('bundles/digsentry/js/richtexteditor.js') }}"></script>
<script type="text/javascript">
    var EntryEditPage = {
        init: function() {
            
            $('#submit-delete').click(function(e) {
                
                if (confirm('削除します。よろしいですか。'))
                {
                    $('#delete-form').submit();
                }
            });
        }
    };
    $(document).ready(function(){
        RichTextEditor.init("{{ asset('bundles/digscore/bootstrap/css/bootstrap.min.css') }},{{ asset('bundles/digsentry/css/entry.css') }}", "{{ path('photo_select') }}");
        EntryEditPage.init();
    });
    
</script>
{% endblock %}

{% block body -%}
<div class="row">
    <h2>エントリの編集</h2>
</div>
<div class="row">
{{ form_start(edit_form) }}
{{ form_errors(edit_form) }}
    <div class="form-group">
{{ form_label(edit_form.title, 'タイトル') }}
{{ form_errors(edit_form.title) }}
{{ form_widget(edit_form.title, {'attr': {'class': 'form-control'}}) }}
    </div>
    <div class="form-group">
{{ form_label(edit_form.message, 'メッセージ') }}
{{ form_errors(edit_form.message) }}
{{ form_widget(edit_form.message, {'attr': {'class': 'form-control', 'rows': 20}}) }}
    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-primary">保存</button> <button id="submit-delete" type="button" class="pull-right btn btn-danger">削除</button>
    </div>

{{ form_end(edit_form) }}
</div>
{{ form_start(delete_form, {'attr': {'id': 'delete-form'}}) }}
{{ form_end(delete_form) }}
{% endblock %}
